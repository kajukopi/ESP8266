<!DOCTYPE html>
<html>
<head>
  <title>NodeMCU LED</title>
</head>
<body>
  <h1>LED Control</h1>
  <p>LED is <span id="led-state">...</span></p>
  <button onclick="toggleLED(true)">Turn ON</button>
  <button onclick="toggleLED(false)">Turn OFF</button>

  <script>
    function toggleLED(state) {
      fetch('/led/' + (state ? 'on' : 'off'))
        .then(() => location.reload());
    }
    fetch('/led/state').then(res => res.text()).then(text => {
      document.getElementById('led-state').textContent = text;
    });
  </script>
</body>
</html>